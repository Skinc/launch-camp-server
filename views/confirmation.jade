extends layout

block title 
  title Confirm

block css
    link(rel='stylesheet', href='/css/confirmation.css')
    link(rel='stylesheet', href='/font-awesome/css/font-awesome.min.css')
    link(href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css')

 block js
    script.
        var enrollmentData = !{JSON.stringify(data)}
        enrollmentData["session-number"] = "#{sessionNumber}"


    script(src="/js/jquery-1.11.3.min.js" type="text/javascript")
    script(src="/js/jquery.validate.min.js" type="text/javascript")
    script(src="/js/jquery-payment.js" type="text/javascript")
    script(src="https://js.stripe.com/v2/" type="text/javascript")
    script(src="/js/payment.js" type="text/javascript")

block content
    .container.content-container
        .row 
            h4.col-md-4.col-md-offset-4.text-center.confirmation-text Please confirm the following information is correct before submitting payment. You can unenroll before June 1st 2016, for a full refund.
        .row
            .col-md-5.col-md-offset-1.signup-info
                each val, field in data 
                    if val
                        h4.name #{field}
                        h4.value #{val}

            .col-md-4.col-md-offset-1.payment-section                                            
                .panel.panel-default.credit-card-box
                  .panel-heading.display-table                    
                    if (discount) 
                      .row.display-tr
                        .panel-title.display-td
                          .charge-base &nbsp;&nbsp;$1,200.00
                          .charge-discount - #{discount}                            
                          .line-wrapper
                            .line                                                    

                    .row.display-tr
                      .display-td
                        h3.charge-final #{price}
                      .display-td                        
                        img.img-responsive.pull-right(src='http://i76.imgup.net/accepted_c22e0.png')
                  .panel-body                    
                    form#payment-form(role='form', method='POST', action='javascript:void(0);')                        
                      .fields                        
                        .row
                          .col-xs-12
                            .form-group
                              label(for='cardNumber') CARD NUMBER
                              .input-group
                                input.form-control(type='tel', name='cardNumber', placeholder='Valid Card Number', autocomplete='cc-number', required='', autofocus='')
                                span.input-group-addon
                                  i.fa.fa-credit-card
                        .row
                          .col-xs-7.col-md-7
                            .form-group
                              label(for='cardExpiry')
                                span.hidden-xs EXPIRATION
                                span.visible-xs-inline EXP
                                |  DATE
                              input.form-control(type='tel', name='cardExpiry', placeholder='MM / YY', autocomplete='cc-exp', required='')
                          .col-xs-5.col-md-5.pull-right
                            .form-group
                              label(for='cardCVC') CV CODE
                              input.form-control(type='tel', name='cardCVC', placeholder='CVC', autocomplete='cc-csc', required='')                      
                      .row
                        .col-xs-12
                          button.subscribe.btn.btn-success.btn-lg.btn-block(type='button') Submit Payment and Enroll
                      .row.payment-success
                          .col-xs-12 Thank you for enrolling, you should receive a receipt from our payment manager, Stripe, in a few minutes. We'll be in touch soon with additional forms and releases. Email info@thelaunchcamp.com if you have any questions!                                                                    
                      .row(style='display:none;')
                        .col-xs-12
                          p.payment-errors

                
                    //- .form-group
                    //-     label Card Number                       
                    //-     input(class=" form-control" type='text', size='20', data-stripe='number')
                    //- .form-group
                    //-     label CVC
                    //-     input(class=" form-control" type='text', size='4', data-stripe='cvc')
                    //- .form-group
                    //-     label Expiration (MM/YYYY)
                    //-     .expiration-fields
                    //-         input(class="card-month" type='text', size='2', data-stripe='exp-month')
                    //-         span  / 
                    //-         input(class="card-year" type='text', size='4', data-stripe='exp-year')
                    //- .form-group.text-center
                    //-     button(class="btn btn-primary") Submit Payment

